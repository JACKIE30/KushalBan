{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jubaraj/Desktop/banrakshak/banrakshak/frontend/src/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { JSX, useEffect, useState } from 'react';\nimport { LandingPage } from './pages/LandingPage';\nimport { LoginSignup } from './pages/LoginSignup';\nimport { Dashboard } from './pages/Dashboard';\nimport { ClaimSubmission } from './pages/ClaimSubmission';\nimport { ClaimsManagement } from './pages/ClaimsManagement';\nimport { Allotments } from './pages/Allotments';\nimport { DocumentCenter } from './pages/DocumentCenter';\nimport { OCRProcessor } from './pages/OCRProcessor';\nimport { Layout } from './pages/Layout';\nimport { LanguageProvider } from './pages/LanguageContext';\nimport { AuthProvider, useAuth } from './pages/AuthContext';\nimport FRAAtlasMap from './pages/fra-atlas';\n\ntype Page =\n  | 'landing'\n  | 'auth'\n  | 'dashboard'\n  | 'submit-claim'\n  | 'claims'\n  | 'allotments'\n  | 'documents'\n  | 'ocr-processing'\n  | 'atlas';\n\n// Map URL → Page\nconst pathToPage: Record<string, Page> = {\n  '/': 'landing',\n  '/auth': 'auth',\n  '/dashboard': 'dashboard',\n  '/dashboard/submit-claim': 'submit-claim',\n  '/dashboard/claims': 'claims',\n  '/dashboard/allotments': 'allotments',\n  '/dashboard/documents': 'documents',\n  '/dashboard/ocr-processing': 'ocr-processing',\n  '/dashboard/fra-atlas': 'atlas'\n};\n\n// Map Page → URL\nconst pageToPath: Record<Page, string> = {\n  landing: '/',\n  auth: '/auth',\n  dashboard: '/dashboard',\n  'submit-claim': '/dashboard/submit-claim',\n  claims: '/dashboard/claims',\n  allotments: '/dashboard/allotments',\n  documents: '/dashboard/documents',\n  'ocr-processing': '/dashboard/ocr-processing',\n  'atlas': '/dashboard/atlas',\n};\nfunction getPageFromPath(path: string): Page {\n  // Try to match exact path first\n  if (pathToPage[path]) return pathToPage[path];\n\n  // Fallback for `/dashboard/...`\n  if (path.startsWith('/dashboard')) return 'dashboard';\n\n  return 'landing';\n}\n\nfunction AppContent() {\n  const [currentPage, setCurrentPage] = useState<Page>('landing');\n  const { isAuthenticated, loading } = useAuth();\n\n  // Initialize from URL\n  useEffect(() => {\n    setCurrentPage(getPageFromPath(window.location.pathname));\n  }, []);\n\n  // Handle browser back/forward\n  useEffect(() => {\n    const handlePopState = () => {\n      setCurrentPage(getPageFromPath(window.location.pathname));\n    };\n    window.addEventListener('popstate', handlePopState);\n    return () => window.removeEventListener('popstate', handlePopState);\n  }, []);\n\n  const handlePageChange = (page: Page) => {\n    setCurrentPage(page);\n    window.history.pushState({}, '', pageToPath[page]);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-white via-gray-50/30 to-green-50/30 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 border-green-200 border-t-green-600 rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Landing & Auth\n  if (currentPage === 'landing') {\n    return <LandingPage onGetStarted={() => handlePageChange('auth')} />;\n  }\n\n  if (currentPage === 'auth') {\n    return <LoginSignup onSuccess={() => handlePageChange('dashboard')} />;\n  }\n\n  // Redirect unauthenticated users\n  if (!isAuthenticated) {\n    return <LoginSignup onSuccess={() => handlePageChange('dashboard')} />;\n  }\n\n  // Dashboard pages mapping\n  const dashboardContent: Partial<Record<Page, JSX.Element>> = {\n    dashboard: <Dashboard />,\n    'submit-claim': <ClaimSubmission />,\n    claims: <ClaimsManagement />,\n    allotments: <Allotments />,\n    documents: <DocumentCenter />,\n    'ocr-processing': <OCRProcessor />,\n    landing: <Dashboard />, // fallback\n    auth: <Dashboard />,\n    atlas: <FRAAtlasMap/> // fallback\n  };\n\n  return (\n    <Layout\n      activeTab={currentPage === 'dashboard' ? 'dashboard' : currentPage}\n      onNavigate={handlePageChange}\n    >\n      {dashboardContent[currentPage] ?? <Dashboard />}\n    </Layout>\n  );\n}\n\nexport default function App() {\n  return (\n    <LanguageProvider>\n      <AuthProvider>\n        <AppContent />\n      </AuthProvider>\n    </LanguageProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;;;;;;;;;;;;;;;AA2BA,iBAAiB;AACjB,MAAM,aAAmC;IACvC,KAAK;IACL,SAAS;IACT,cAAc;IACd,2BAA2B;IAC3B,qBAAqB;IACrB,yBAAyB;IACzB,wBAAwB;IACxB,6BAA6B;IAC7B,wBAAwB;AAC1B;AAEA,iBAAiB;AACjB,MAAM,aAAmC;IACvC,SAAS;IACT,MAAM;IACN,WAAW;IACX,gBAAgB;IAChB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,kBAAkB;IAClB,SAAS;AACX;AACA,SAAS,gBAAgB,IAAY;IACnC,gCAAgC;IAChC,IAAI,UAAU,CAAC,KAAK,EAAE,OAAO,UAAU,CAAC,KAAK;IAE7C,gCAAgC;IAChC,IAAI,KAAK,UAAU,CAAC,eAAe,OAAO;IAE1C,OAAO;AACT;AAEA,SAAS;IACP,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAO;IACrD,MAAM,EAAE,eAAe,EAAE,OAAO,EAAE,GAAG,IAAA,8IAAO;IAE5C,sBAAsB;IACtB,IAAA,kNAAS,EAAC;QACR,eAAe,gBAAgB,OAAO,QAAQ,CAAC,QAAQ;IACzD,GAAG,EAAE;IAEL,8BAA8B;IAC9B,IAAA,kNAAS,EAAC;QACR,MAAM,iBAAiB;YACrB,eAAe,gBAAgB,OAAO,QAAQ,CAAC,QAAQ;QACzD;QACA,OAAO,gBAAgB,CAAC,YAAY;QACpC,OAAO,IAAM,OAAO,mBAAmB,CAAC,YAAY;IACtD,GAAG,EAAE;IAEL,MAAM,mBAAmB,CAAC;QACxB,eAAe;QACf,OAAO,OAAO,CAAC,SAAS,CAAC,CAAC,GAAG,IAAI,UAAU,CAAC,KAAK;IACnD;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;;IAIrC;IAEA,iBAAiB;IACjB,IAAI,gBAAgB,WAAW;QAC7B,qBAAO,8OAAC,kJAAW;YAAC,cAAc,IAAM,iBAAiB;;;;;;IAC3D;IAEA,IAAI,gBAAgB,QAAQ;QAC1B,qBAAO,8OAAC,kJAAW;YAAC,WAAW,IAAM,iBAAiB;;;;;;IACxD;IAEA,iCAAiC;IACjC,IAAI,CAAC,iBAAiB;QACpB,qBAAO,8OAAC,kJAAW;YAAC,WAAW,IAAM,iBAAiB;;;;;;IACxD;IAEA,0BAA0B;IAC1B,MAAM,mBAAuD;QAC3D,yBAAW,8OAAC,8IAAS;;;;;QACrB,8BAAgB,8OAAC,0JAAe;;;;;QAChC,sBAAQ,8OAAC,4JAAgB;;;;;QACzB,0BAAY,8OAAC,gJAAU;;;;;QACvB,yBAAW,8OAAC,wJAAc;;;;;QAC1B,gCAAkB,8OAAC,oJAAY;;;;;QAC/B,uBAAS,8OAAC,8IAAS;;;;;QACnB,oBAAM,8OAAC,8IAAS;;;;;QAChB,qBAAO,8OAAC,+IAAW;;;;;IACrB;IAEA,qBACE,8OAAC,wIAAM;QACL,WAAW,gBAAgB,cAAc,cAAc;QACvD,YAAY;kBAEX,gBAAgB,CAAC,YAAY,kBAAI,8OAAC,8IAAS;;;;;;;;;;AAGlD;AAEe,SAAS;IACtB,qBACE,8OAAC,2JAAgB;kBACf,cAAA,8OAAC,mJAAY;sBACX,cAAA,8OAAC;;;;;;;;;;;;;;;AAIT","debugId":null}}]
}